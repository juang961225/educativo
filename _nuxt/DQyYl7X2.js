import{ah as F,s as w,$ as q,y as x,ai as I,M as P,K as $,O as N,h as E,z as O,aj as j,a5 as z}from"./CGkFSr8a.js";function y(e){return I()?(P(e),!0):!1}const S=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const J=e=>typeof e<"u",W=()=>+Date.now(),T=()=>{};function M(e,n){function l(...s){return new Promise((a,t)=>{Promise.resolve(e(()=>n.apply(this,s),{fn:n,thisArg:this,args:s})).then(a).catch(t)})}return l}function B(e,n={}){let l,s,a=T;const t=i=>{clearTimeout(i),a(),a=T};return i=>{const u=F(e),r=F(n.maxWait);return l&&t(l),u<=0||r!==void 0&&r<=0?(s&&(t(s),s=null),Promise.resolve(i())):new Promise((o,p)=>{a=n.rejectOnCancel?p:o,r&&!s&&(s=setTimeout(()=>{l&&t(l),s=null,o(i())},r)),l=setTimeout(()=>{s&&t(s),s=null,o(i())},u)})}}function H(e,n=200,l={}){return M(B(n,l),e)}function G(e,n=1e3,l={}){const{immediate:s=!0,immediateCallback:a=!1}=l;let t=null;const f=w(!1);function i(){t&&(clearInterval(t),t=null)}function u(){f.value=!1,i()}function r(){const o=F(n);o<=0||(f.value=!0,a&&e(),i(),f.value&&(t=setInterval(e,o)))}if(s&&S&&r(),q(n)||typeof n=="function"){const o=x(n,()=>{f.value&&S&&r()});y(o)}return y(u),{isActive:f,pause:u,resume:r}}function Q(e,n,l){let s;q(l)?s={evaluating:l}:s=l;const{lazy:a=!1,evaluating:t=void 0,shallow:f=!0,onError:i=T}=s,u=w(!a),r=f?$(n):w(n);let o=0;return N(async p=>{if(!u.value)return;o++;const m=o;let c=!1;t&&Promise.resolve().then(()=>{t.value=!0});try{const v=await e(h=>{p(()=>{t&&(t.value=!1),c||h()})});m===o&&(r.value=v)}catch(v){i(v)}finally{t&&m===o&&(t.value=!1),c=!0}}),a?E(()=>(u.value=!0,r.value)):r}const L=S?window:void 0;function X(e){var n;const l=F(e);return(n=l==null?void 0:l.$el)!=null?n:l}function R(e,n={}){const{immediate:l=!0,fpsLimit:s=void 0,window:a=L}=n,t=w(!1),f=E(()=>s?1e3/F(s):null);let i=0,u=null;function r(m){if(!t.value||!a)return;i||(i=m);const c=m-i;if(f.value&&c<f.value){u=a.requestAnimationFrame(r);return}i=m,e({delta:c,timestamp:m}),u=a.requestAnimationFrame(r)}function o(){!t.value&&a&&(t.value=!0,i=0,u=a.requestAnimationFrame(r))}function p(){t.value=!1,u!=null&&a&&(a.cancelAnimationFrame(u),u=null)}return l&&o(),y(p),{isActive:z(t),pause:p,resume:o}}function K(e){return JSON.parse(JSON.stringify(e))}const g=new Map;function Y(e){const n=I();function l(i){var u;const r=g.get(e)||new Set;r.add(i),g.set(e,r);const o=()=>a(i);return(u=n==null?void 0:n.cleanups)==null||u.push(o),o}function s(i){function u(...r){a(u),i(...r)}return l(u)}function a(i){const u=g.get(e);u&&(u.delete(i),u.size||t())}function t(){g.delete(e)}function f(i,u){var r;(r=g.get(e))==null||r.forEach(o=>o(i,u))}return{on:l,once:s,off:a,emit:f,reset:t}}function Z(e={}){const{controls:n=!1,offset:l=0,immediate:s=!0,interval:a="requestAnimationFrame",callback:t}=e,f=w(W()+l),i=()=>f.value=W()+l,u=t?()=>{i(),t(f.value)}:i,r=a==="requestAnimationFrame"?R(u,{immediate:s}):G(u,a,{immediate:s});return n?{timestamp:f,...r}:f}function k(e,n,l,s={}){var a,t,f;const{clone:i=!1,passive:u=!1,eventName:r,deep:o=!1,defaultValue:p,shouldEmit:m}=s,c=j(),v=l||(c==null?void 0:c.emit)||((a=c==null?void 0:c.$emit)==null?void 0:a.bind(c))||((f=(t=c==null?void 0:c.proxy)==null?void 0:t.$emit)==null?void 0:f.bind(c==null?void 0:c.proxy));let h=r;n||(n="modelValue"),h=h||`update:${n.toString()}`;const V=d=>i?typeof i=="function"?i(d):K(d):d,C=()=>J(e[n])?V(e[n]):p,D=d=>{m?m(d)&&v(h,d):v(h,d)};if(u){const d=C(),_=w(d);let A=!1;return x(()=>e[n],b=>{A||(A=!0,_.value=V(b),O(()=>A=!1))}),x(_,b=>{!A&&(b!==e[n]||o)&&D(b)},{deep:o}),_}else return E({get(){return C()},set(d){D(d)}})}export{H as a,k as b,Q as c,Y as d,Z as e,X as u};
